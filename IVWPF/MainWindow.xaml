<Window
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:IVWPF"
        xmlns:Properties="clr-namespace:IVWPF.Properties" x:Name="WindowMain" x:Class="IVWPF.MainWindow"
        mc:Ignorable="d"
        Title="IVWPF" Height="600" Width="800" MouseDoubleClick="Window_MouseDoubleClick" AllowDrop="True" ShowInTaskbar="False" Topmost="True" Loaded="Main_Loaded" PreviewKeyDown="Main_KeyDown" PreviewKeyUp="Main_KeyUp" Closing="WindowMain_Closing" MouseDown="WindowMain_MouseDown" Background="{x:Null}">
    <Window.Resources>
        <BitmapImage x:Key="BmpICON" UriSource="Resources/bmp.png" />
        <BitmapImage x:Key="FolderICON" UriSource="Resources/folder.png" />
        <BitmapImage x:Key="JpegICON" UriSource="Resources/jpeg.png" />
        <BitmapImage x:Key="IconICON" UriSource="Resources/icon.png" />
        <BitmapImage x:Key="PngICON" UriSource="Resources/png.png" />
        <BitmapImage x:Key="UpICON" UriSource="Resources/upfolder.png" />
        <BitmapImage x:Key="ZipICON" UriSource="Resources/zip.png" />
        <BitmapImage x:Key="TiffICON" UriSource="Resources/tiff.png" />
        <BitmapImage x:Key="DriveICON" UriSource="Resources/drive.png" />
    </Window.Resources>
    <TabControl x:Name="MainTab" Margin="0" Background="Black" BorderBrush="Black" SelectedIndex="0" BorderThickness="0">
        <TabItem Header="TabItem" Margin="0" Width="0" Height="0" BorderBrush="Black">
            <Grid x:Name="ImageGrid" Drop="Image_Drop" DragOver="ImageGrid_DragOver" Background="Black" Width="{Binding Width, ElementName=MainTab}" Height="{Binding Height, ElementName=MainTab}" MouseDown="ImageGrid_MouseDown">
                <Canvas x:Name="MainCanvas" Margin="0" SizeChanged="Image_SizeChanged"  MouseLeftButtonDown="Image_MouseLeftButtonDown" MouseLeftButtonUp="Image_MouseLeftButtonUp" MouseMove="Image_MouseMove" ManipulationDelta="MainCanvas_ManipulationDelta" TouchDown="MainCanvas_TouchDown" TouchMove="MainCanvas_TouchMove" TouchUp="MainCanvas_TouchUp" PreviewMouseWheel="Image_MouseWheel">
                    <Image x:Name="IVWImage" HorizontalAlignment="Left" Margin="0" VerticalAlignment="Top" ClipToBounds="True" SnapsToDevicePixels="True"  AllowDrop="True" RenderTransformOrigin="0,0" MinWidth="{Binding ActualWidth, ElementName=MainCanvas, Mode=OneWay}" MinHeight="{Binding ActualHeight, ElementName=MainCanvas, Mode=OneWay}" StretchDirection="DownOnly" Stretch="None" IsManipulationEnabled="True" IsEnabled="False"/>
                    <Canvas x:Name="FilerCanvas" Height="{Binding Height, ElementName=MainCanvas}" Canvas.Left="0" Canvas.Top="0" Width="{Binding Width, ElementName=MainCanvas}" Opacity="0"/>
                </Canvas>
            </Grid>
        </TabItem>
        <TabItem x:Name="tabItem" Header="TabItem" Width="0" Height="0">
            <Grid x:Name="FilerTab" Background="White">
                <Grid.RowDefinitions>
                    <RowDefinition x:Name="FireTabMenu" Height="40"/>
                    <RowDefinition/>
                    <RowDefinition Height="40"/>
                </Grid.RowDefinitions>
                <Button x:Name="button" Content="≡" HorizontalAlignment="Left" Width="40" Height="40" Background="#FF79C8FF" Foreground="White" FontFamily="Century" FontSize="20"/>
                <Button x:Name="BuckImageButton" Content="IMG" Height="40" RenderTransformOrigin="0.5,0.5" Background="{Binding Background, ElementName=button}" Foreground="White" BorderBrush="#FF000E66" Margin="{Binding Width, ElementName=FilerTab, Mode=OneWay}" Width="40" HorizontalAlignment="Right" Click="BuckImageButton_Click">
                    <Button.RenderTransform>
                        <TransformGroup>
                            <ScaleTransform ScaleY="1" ScaleX="1"/>
                            <SkewTransform AngleY="0" AngleX="0"/>
                            <RotateTransform Angle="0"/>
                            <TranslateTransform/>
                        </TransformGroup>
                    </Button.RenderTransform>
                </Button>
                <Label x:Name="FolderLabel" Margin="40,0,0,0" Height="40" HorizontalAlignment="Left" FontSize="20"/>
                <Grid x:Name="grid" Grid.Row="2" Background="{Binding Background, ElementName=button}" Height="40"/>
                <ListBox x:Name="FilerListBox" Grid.Row="1" FontSize="16" Grid.IsSharedSizeScope="True" MinWidth="{Binding Width, ElementName=grid}" Background="{Binding Mode=OneWay, Source={StaticResource BmpICON}}" MouseLeftButtonUp="FilerListBox_MouseLeftButtonUp"/>
            </Grid>
        </TabItem>
    </TabControl>
</Window>
